---
name: requirement-detector
description: "自动探测用户想要的写作规范，并加载对应的要求文档 - 监听用户在 specification、constitution、对话中提到的规范关键词，无缝激活相应知识库"
allowed-tools: Read
---

# 写作规范探测器

## 自动激活条件

当用户提到以下关键词时自动激活本 Skill。

---

## 📋 可探测的写作规范

### 1. anti-ai-v4（强力AI去味）

**关键词（任意一个即触发）**：
```
AI味重、AI腔太重、太AI了
去AI味、去除AI感、不要AI味
太机器、太生硬、不自然
AI痕迹明显、一看就是AI写的
要求极致自然、完全去AI
最强去味、强力去AI
```

**触发场景示例**：
> 用户："这个AI味道太重了，能不能去掉？"
> 用户："我要最强的AI去味，完全看不出AI写的那种"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【AI味重、去AI味】

建议使用：**anti-ai-v4**（强力AI去味规范）

这个规范的特点：
- 200+ 禁用词汇表
- 6层规则体系（词汇、句式、形容词、成语、对话、段落）
- 极致的自然化要求
- 形容词严格限制

⚠️ 警告：这是最激进的去AI规范，可能会牺牲部分文学性

适用场景：
✅ 对AI味零容忍的作品
✅ 需要极致口语化的小说
✅ 现实题材、都市小说

想要查看详细的规范文档吗？
```

---

### 2. anti-ai-v3（标准AI去味）

**关键词**：
```
自然一点、不要太生硬
少一点AI感、适度去AI
正常的去AI就行、标准去味
不要太明显、平衡一下
```

**触发场景示例**：
> 用户："去掉AI味就行，不用太极端"
> 用户："适度自然一点，保持可读性"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【自然一点、适度去AI】

建议使用：**anti-ai-v3**（标准AI去味规范）

这个规范的特点：
- 平衡的去AI策略
- 保留部分文学化表达
- 不影响可读性
- 适度的词汇限制

这个规范特别适合：
✅ 大部分现代小说
✅ 需要平衡自然感和文学性
✅ 不确定用哪个版本时的默认选择

想要查看详细的规范文档吗？
```

---

### 3. fast-paced（快节奏/爽文规范）

**关键词**：
```
节奏快、快节奏、爽文、爽点
打脸、装逼、升级、逆袭
冲突密集、不拖沓、干脆利落
每章都要有爽点、要爽
网文节奏、商业化节奏
```

**触发场景示例**：
> 用户："我要写爽文，每章都要有爽点"
> 用户："节奏快一点，不要拖沓"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【爽文、快节奏、爽点】

建议使用：**fast-paced**（快节奏/爽文规范）

这个规范的特点：
- 每章至少2个爽点
- 打脸/装逼/升级公式化流程
- 章节结构优化（开篇钩子+结尾悬念）
- 节奏分阶段控制

核心公式：
- 打脸7步法
- 装逼5步法
- 升级6步法

这个规范特别适合：
✅ 都市爽文
✅ 玄幻升级流
✅ 系统文、重生文
✅ 商业化网文

想要查看详细的规范文档吗？
```

---

### 4. no-poison（无毒点规范）

**关键词**：
```
无毒点、不要毒点、避免毒
不要降智、别让主角傻
不要圣母、不要工具人
逻辑自洽、合理、不强行
不要为了剧情牺牲智商
```

**触发场景示例**：
> 用户："千万不要降智，主角别太傻"
> 用户："要合理，不要强行的剧情"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【无毒点、不要降智、逻辑自洽】

建议使用：**no-poison**（无毒点规范）

这个规范避免：
- 主角降智行为
- 强行的误会
- 玛丽苏情节
- 工具人角色
- 逻辑漏洞

核心原则：
- 所有行为必须有合理动机
- 误会要可解释
- 配角有独立人格
- 情节发展符合逻辑

这个规范特别适合：
✅ 所有类型小说（通用）
✅ 重视逻辑性的作品
✅ 需要避免读者吐槽

💡 建议：这个规范可以和其他规范组合使用

想要查看详细的规范文档吗？
```

---

### 5. serious-literature（严肃文学规范）

**关键词**：
```
严肃文学、纯文学、文学性
有深度、思想性、哲思
现实主义、人性探讨
不要爽文套路、要有内涵
社会问题、深刻、有意义
```

**触发场景示例**：
> 用户："我要写严肃文学，有思想深度的"
> 用户："不要爽文那套，要探讨人性"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【严肃文学、有深度、人性探讨】

建议使用：**serious-literature**（严肃文学规范）

这个规范的特点：
- 现实主义手法
- 复杂的人物性格
- 思想性和哲学探讨
- 语言克制，不煽情
- 开放式结局

适合的题材：
✅ 现实主义小说
✅ 历史小说（严肃向）
✅ 社会问题小说
✅ 文学奖向作品

⚠️ 注意：
- 与爽文规范冲突
- 与快节奏规范冲突
- 适合追求文学价值的作品

想要查看详细的规范文档吗？
```

---

### 6. strong-emotion（强情绪规范）

**关键词**：
```
情绪饱满、情感强烈、有感染力
情绪爆发、情绪冲击、催泪
让人有共鸣、打动人心
有情感张力、情绪起伏大
```

**触发场景示例**：
> 用户："我要写得情感饱满，能打动人"
> 用户："需要强烈的情绪冲击"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【情绪饱满、情感强烈、打动人心】

建议使用：**strong-emotion**（强情绪规范）

这个规范的特点：
- 每10-15章至少1个情绪爆发点
- 情绪铺垫→累积→爆发
- 通过行为表达情绪（不直接说明）
- 波浪式情绪节奏

情绪爆发类型：
- 愤怒爆发
- 悲伤决堤
- 喜悦满溢
- 恐惧极致

这个规范特别适合：
✅ 情感类小说
✅ 虐文
✅ 需要感染力的作品
✅ 人物情感线丰富的故事

💡 可与 romance-angst 或 romance-sweet 组合使用

想要查看详细的规范文档吗？
```

---

### 7. romance-sweet（甜文规范）

**关键词**：
```
甜文、甜、撒糖、高糖
齁甜、甜到发腻、甜宠
HE、圆满、温馨
不虐、少虐、轻松
```

**触发场景示例**：
> 用户："我要写甜文，多撒糖"
> 用户："全程高糖，不要虐"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【甜文、撒糖、高糖】

建议使用：**romance-sweet**（甜文规范）

这个规范的特点：
- 糖分密度配置（小糖/中糖/大糖）
- 冲突控制（只允许小误会）
- 甜蜜时刻设计公式
- 禁止BE倾向剧情

糖分配置：
- 小糖（互动、关心）：每章3-5个
- 中糖（表白、亲密）：每3-5章1个
- 大糖（确认关系）：每10章1个

禁止内容：
❌ 长时间误会（超过5章）
❌ 第三者插足（真的喜欢）
❌ BE倾向剧情

这个规范特别适合：
✅ 言情甜文
✅ 现代甜宠
✅ 轻松向恋爱故事

⚠️ 与 romance-angst（虐文）冲突

想要查看详细的规范文档吗？
```

---

### 8. romance-angst（虐文规范）

**关键词**：
```
虐文、虐、BE、刀子
虐心、虐恋、悲剧
误会虐、分离虐、时机虐
重虐、极虐、生离死别
```

**触发场景示例**：
> 用户："我要写虐文，虐得痛快"
> 用户："BE结局，生离死别那种"

**激活后行为**：
```markdown
📋 规范探测器已激活

检测到：【虐文、虐心、BE】

建议使用：**romance-angst**（虐文规范）

这个规范的特点：
- 虐要有理、虐要有度
- 标准虐文流程（甜→虐→和解/BE）
- 虐点设计方法
- 虐度等级控制

虐点类型：
- 误会虐（合理的误会）
- 分离虐（不能在一起）
- 时机虐（错过）

虐度等级：
- 微虐：小矛盾
- 中虐：分分合合
- 重虐：生离死别
- 极虐：BE结局

重要原则：
✅ 虐必须有充分理由
✅ HE需要和解过程
✅ BE也要有说法

这个规范特别适合：
✅ 虐恋小说
✅ 悲剧向爱情
✅ 刀子文

⚠️ 与 romance-sweet（甜文）冲突

想要查看详细的规范文档吗？
```

---

## 📖 激活后的详细行为

### 步骤 1：确认规范选择

当探测到关键词后，首先确认用户意图：

```
我注意到你提到了【AI味重、去AI味】，这通常对应 anti-ai-v4 规范。

我可以：
1. 📖 展示这个规范的详细文档
2. ✅ 直接应用这个规范到你的项目
3. 🔍 看看其他规范选项

你想要哪一个？
```

---

### 步骤 2：加载规范知识库

如果用户确认，执行以下操作：

```markdown
✅ 正在加载规范知识库...

📖 读取：.claude/knowledge-base/requirements/anti-ai-v4.md

【展示核心要点】

## 6层规则体系：
1. 词汇层 - 200+ 禁用词
2. 句式层 - 6种禁用模式
3. 形容词层 - 每100字最多5个
4. 成语层 - 能不用就不用
5. 对话层 - 必须口语化
6. 段落层 - 简短、直接

## 极限模式选项：
- 零形容词
- 纯动作+对话
- 极致口语化

【完整规范已加载到我的上下文中】
```

---

### 步骤 3：写入配置标记

在用户的 `specification.md` 中添加配置标记：

```yaml
---
writing-requirements:
  - anti-ai-v4
---
```

提示用户：
```
✅ 已将规范配置写入 specification.md

在执行 /write 时，我会自动严格遵守 anti-ai-v4 的所有规范。
```

---

## 🔄 多规范探测处理

### 场景 1：兼容的组合

**用户说**：
> "我要写爽文，节奏快，而且要去AI味"

**探测结果**：
- fast-paced（爽文、节奏快）
- anti-ai-v4（去AI味）

**处理方式**：
```markdown
🔍 多规范探测结果

检测到：
- fast-paced（因为"爽文、节奏快"）
- anti-ai-v4（因为"去AI味"）

这两个规范可以组合使用！

推荐配置：
writing-requirements:
  - fast-paced
  - anti-ai-v4

效果：快节奏爽文 + 强力去AI味
= 自然流畅的商业化网文

确认应用这个组合吗？
```

---

### 场景 2：冲突的组合

**用户说**：
> "我要写严肃文学，但也要每章都有爽点"

**探测结果**：
- serious-literature（严肃文学）
- fast-paced（爽点） - 冲突！

**处理方式**：
```markdown
⚠️ 规范冲突检测

检测到：
- serious-literature（严肃文学） - 要求慢节奏、深度
- fast-paced（快节奏爽文） - 要求每章2个爽点

这两个规范有根本冲突：
- 严肃文学：慢节奏、思想性、开放结局
- 快节奏爽文：密集冲突、爽感优先、套路化

建议：
1. 选择 serious-literature，放弃"每章爽点"要求
2. 选择 fast-paced，调整为"有深度的爽文"
3. 考虑使用 strong-emotion（强情绪）作为折中

你倾向哪个方向？
```

---

### 场景 3：甜虐冲突

**用户说**：
> "我要写甜文，但也要虐一下"

**探测结果**：
- romance-sweet（甜文）
- romance-angst（虐文） - 冲突！

**处理方式**：
```markdown
⚠️ 甜虐冲突检测

检测到：
- romance-sweet（甜文） - 禁止长时间虐
- romance-angst（虐文） - 需要虐心情节

建议处理方式：

1. **先甜后虐**（虐恋）
   - 前半部分：romance-sweet
   - 后半部分：romance-angst

2. **虐中带甜**（微虐）
   - 主要：romance-sweet
   - 允许：短暂小虐（1-2章）
   - 甜虐比例：80% 甜 / 20% 虐

3. **BE甜文**（先甜后刀）
   - 前期：romance-sweet
   - 结局：romance-angst（BE）

你想要哪种模式？
```

---

## 🔁 持续监控

### 中途调整规范

即使项目已经开始，仍然持续监控：

**场景**：用户在第15章时说

> "这几章太平淡了，加点爽点吧"

**探测器激活**：
```markdown
📋 规范调整探测

检测到你想调整规范：
当前规范：serious-literature
建议新增：fast-paced

⚠️ 警告：这两个规范有冲突

调整建议：
1. 移除 serious-literature，完全切换到 fast-paced
2. 保持 serious-literature，只是加快局部节奏（不加载 fast-paced）
3. 混合模式：70% serious + 30% fast（实验性）

你想要哪种调整方式？
```

---

## 💡 主动建议

### 基于风格建议规范

如果 style-detector 已经激活了某个风格，requirement-detector 可以主动建议配套规范：

**场景**：用户已经选择了 natural-voice 风格

**探测器主动建议**：
```markdown
💡 规范建议

检测到你选择了 natural-voice（自然人声风格）

建议配套规范：
1. **anti-ai-v4** - 与 natural-voice 完美配合，极致自然
2. **no-poison** - 保证逻辑合理，避免降智
3. **fast-paced**（可选） - 如果写商业化爽文

推荐组合：
natural-voice + anti-ai-v4 + no-poison
= 极致自然、逻辑自洽的现代小说

需要我加载这些规范吗？
```

---

## 📊 与 style-detector 的配合

requirement-detector 和 style-detector 是协同工作的：

```
用户输入："我要写都市爽文，口语化，去AI味"

style-detector 探测：
    ↓
识别：natural-voice（因为"口语化"）
    ↓
加载：styles/natural-voice.md

requirement-detector 探测：
    ↓
识别：fast-paced（因为"爽文"）+ anti-ai-v4（因为"去AI味"）
    ↓
加载：requirements/fast-paced.md + requirements/anti-ai-v4.md

最终写入 specification.md：
---
writing-style: natural-voice
writing-requirements:
  - fast-paced
  - anti-ai-v4
---

效果：自然人声的快节奏爽文，强力去AI味
```

---

## 🎯 成功案例示例

### 完整对话流程

**用户**：
> "我要写现代言情，甜文，但不能有AI味"

**requirement-detector**：
```
📋 规范探测器已激活

检测到关键词：
- "甜文" → romance-sweet
- "不能有AI味" → anti-ai-v4

建议规范组合：
1. romance-sweet（甜文规范）
2. anti-ai-v4（强力AI去味）

✅ 已加载规范文档
✅ 已写入配置：
   writing-requirements:
     - romance-sweet
     - anti-ai-v4

配合建议：
💡 检测到"现代言情"，建议同时激活
   style-detector 选择 natural-voice 风格
```

---

## 📝 总结

**requirement-detector 的核心价值**：

1. **零学习成本** - 用户无需记住规范名称
2. **自动激活** - 识别关键词自动触发
3. **智能组合** - 自动组合兼容的规范
4. **冲突检测** - 发现矛盾的需求并提示解决方案
5. **持续监控** - 全程支持规范调整
6. **协同工作** - 与 style-detector 配合，形成完整的双层系统

---

**Skill 版本**：v1.0
**最后更新**：2025-10-19
**兼容版本**：novel-writer-skills v1.0.4+
