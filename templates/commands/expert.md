---
description: 专家模式 - 获取专业写作指导
argument-hint: [plot | character | world | style]
allowed-tools: Read(//.specify/experts/**), Read(.specify/experts/**), Read(//plugins/**/experts/**), Read(plugins/**/experts/**), Bash(find:*), Bash(ls:*), Bash(*)
model: claude-sonnet-4-5-20250929
scripts:
  sh: echo ""
  ps: Write-Output ""
---

# 专家模式

根据用户输入执行相应操作：

## 1. 列出可用专家（无参数时）

如果用户输入 `/expert` 不带参数，显示所有可用专家：

### 核心专家
- **plot** - 剧情结构专家
  - 精通三幕、英雄之旅、故事圈等叙事结构
  - 分析情节问题、优化节奏、设计冲突升级

- **character** - 人物塑造专家
  - 人物弧光设计、动机分析、性格塑造
  - 对话优化、声音区分、关系构建

- **world** - 世界观设计专家
  - 世界观构建、设定一致性、文化背景
  - 规则体系、历史脉络、地理环境

- **style** - 文风语言专家
  - 叙述技巧、修辞手法、语言风格
  - 文风统一、氛围营造、节奏把控

### 插件专家
扫描 `plugins/` 目录，如果存在带有专家配置的插件，列出：
- 检查每个插件目录下的 `config.yaml`
- 如果包含 `experts` 字段，显示专家信息

使用示例：`/expert plot` 激活剧情结构专家

## 2. 激活专家模式

用户输入：`/expert <type>` （如 `/expert plot`）

### 执行步骤：
1. **确认专家类型**
   - 核心专家：读取 `.specify/experts/core/<type>.md`
   - 插件专家：读取对应插件的专家文件

2. **加载专家配置**
   读取专家定义文件，获取：
   - 身份定位
   - 专业领域
   - 工作方式
   - 分析框架

3. **进入专家模式**
   ```
   ✨ 已激活【<专家名称>】模式

   [显示专家的自我介绍]

   我现在会从专业角度为您提供 <领域> 方面的深度指导。
   有什么可以帮助您的吗？
   ```

4. **模式特征**
   - 保持专家视角和专业术语
   - 提供深度分析而非快速答案
   - 引用相关理论和方法论
   - 主动提出诊断性问题

## 3. 专家模式行为准则

进入专家模式后：
- **保持专业身份**：始终以该领域专家的视角交流
- **深度优先**：提供详细分析而非简单建议
- **理论支撑**：引用相关专业理论和框架
- **主动引导**：通过提问帮助用户深入思考
- **持续模式**：直到用户使用其他 `/` 命令才退出

## 4. 退出专家模式

当用户使用任何其他 `/` 命令时：
1. 自动退出专家模式
2. 执行新命令
3. 回到正常交互模式

无需显式退出命令，保持使用流畅性。

## 5. 错误处理

- 如果指定的专家不存在：
  ```
  未找到专家类型：<type>
  可用的专家有：plot, character, world, style
  使用 /expert 查看所有可用专家
  ```

- 如果专家文件读取失败：
  ```
  专家配置加载失败，请检查文件是否存在：
  .specify/experts/core/<type>.md
  ```
