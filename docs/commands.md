# 命令详解

本文档详细介绍 Novel Writer Skills 的所有 Slash Commands。

## 命令分类

### 七步方法论命令

| 命令 | 功能 | 输出文件 | 依赖 |
|------|------|---------|------|
| `/constitution` | 创建创作宪法 | `.specify/memory/constitution.md` | 无 |
| `/specify` | 定义故事规格 | `stories/[name]/specification.md` | `/constitution` |
| `/clarify` | 澄清模糊点 | 更新 `specification.md` | `/specify` |
| `/plan` | 制定创作计划 | `stories/[name]/creative-plan.md` | `/specify` |
| `/tasks` | 分解任务清单 | `stories/[name]/tasks.md` | `/plan` |
| `/write` | 执行章节写作 | `stories/[name]/content/chapter-XX.md` | `/tasks` |
| `/analyze` | 质量验证分析 | 分析报告（对话中） | `/write` |

### 追踪与验证命令

| 命令 | 功能 | 输出文件 | 频率 |
|------|------|---------|------|
| `/track-init` | 初始化追踪系统 | `spec/tracking/*.json` | 首次使用 |
| `/track` | 综合追踪更新 | 更新 `spec/tracking/*.json` | 每章后 |
| `/plot-check` | 情节一致性检查 | 分析报告 | 每 5-10 章 |
| `/timeline` | 时间线管理 | `spec/tracking/timeline.json` | 重要事件后 |
| `/relations` | 角色关系追踪 | `spec/tracking/relationships.json` | 关系变化时 |
| `/world-check` | 世界观验证 | 分析报告 | 新设定后 |

## 详细说明

## `/constitution` - 创建创作宪法

### 功能

建立小说创作的核心原则和价值观，形成创作的"宪法"文件。

### 使用场景

- 项目开始时
- 创作方向调整时
- 加入新的合作者时

### 输出

生成 `.specify/memory/constitution.md` 文件，包含：
- 核心价值观
- 质量标准
- 风格原则
- 内容规范

### 示例

```
/constitution
```

AI 会引导你回答问题，如：
- "这部小说要传递什么核心理念？"
- "什么是你绝对不能妥协的？"
- "你的叙事风格是什么？"

### 最佳实践

- 花 15-20 分钟认真思考
- 原则要具体可验证
- 使用"必须"、"禁止"等明确词汇
- 定期回顾和更新（版本号管理）

---

## `/specify` - 定义故事规格

### 功能

像产品规格书一样定义故事的各个方面。

### 使用场景

- 有新的故事想法时
- 需要整理思路时
- 开始正式创作前

### 输出

生成 `stories/[story-name]/specification.md` 文件，包含：
- 一句话概括
- 目标读者画像
- 核心卖点
- 主要角色
- 成功标准
- 约束和风险

### 示例

```
/specify
```

AI 会询问：
- "用一句话描述这个故事"
- "目标读者是谁？"
- "核心冲突是什么？"
- "故事的独特之处在哪里？"

### 特殊标记

在规格文档中使用：
- `[需要澄清]` - 标记模糊点
- `[核心需求]` - 不可妥协的需求
- `[可选特性]` - 锦上添花的内容

### 最佳实践

- 先快速写出初稿，再细化
- 使用 SMART 原则设定成功标准
- 明确"不是什么"和"是什么"
- 保持文档简洁（3-5 页为宜）

---

## `/clarify` - 澄清模糊点

### 功能

通过 5 个精准问题消除规格中的歧义。

### 使用场景

- `/specify` 完成后
- 发现规格模糊时
- 团队成员对规格有不同理解时

### 过程

1. AI 扫描 `specification.md`
2. 识别模糊或矛盾之处
3. 生成最多 5 个关键问题
4. 根据回答自动更新规格
5. 保留决策历史

### 示例

```
/clarify
```

可能的问题：
- "主角的核心动机是复仇还是正义？"
- "结局是大团圆还是留有遗憾？"
- "故事节奏是快速爽文还是慢热精品？"

### 最佳实践

- 诚实回答，不要为了"正确"而回答
- 如果真不知道，可以说"让我想想"
- 答案会影响后续创作，要慎重
- 可以多次运行直到清晰

---

## `/plan` - 制定创作计划

### 功能

将规格转化为具体的技术方案和章节结构。

### 使用场景

- 规格明确后
- 开始写作前
- 需要重新规划故事结构时

### 输出

生成 `stories/[story-name]/creative-plan.md` 文件，包含：
- 写作方法选择（三幕、英雄之旅等）
- 章节结构设计
- 人物关系网
- 世界观体系
- 时间线和因果链
- 伏笔回收计划

### 示例

```
/plan
```

AI 会帮你：
- 选择合适的写作方法
- 设计章节大纲
- 规划节奏和张力
- 映射角色弧线

### 最佳实践

- 计划要具体但不过度详细
- 为灵感留出空间
- 重点规划前 1/3 的内容
- 定期回顾和调整计划

---

## `/tasks` - 分解任务清单

### 功能

将创作计划分解为可执行的任务。

### 使用场景

- 计划完成后
- 需要清晰的执行路径时
- 多人协作时

### 输出

生成 `stories/[story-name]/tasks.md` 文件，包含：
- 章节写作任务
- 角色档案完善任务
- 世界观设定任务
- 修订和润色任务

### 任务标记

- `[P]` - 可并行执行
- `[依赖:X]` - 依赖任务 X
- `[高优]` - 高优先级
- `[P0/P1/P2]` - 优先级标记

### 示例

```
/tasks
```

生成类似：
```
[P0] 完善主角角色档案
[P0][依赖:1] 写第 1 章：序幕
[P1] 补充世界观地理设定
[P1][P] 写第 2 章：初遇
```

### 最佳实践

- 任务粒度适中（2-4 小时完成）
- 标明依赖关系避免阻塞
- 优先完成关键路径任务
- 定期更新任务状态

---

## `/write` - 执行章节写作

### 功能

基于任务清单和计划，AI 辅助章节创作。

### 使用场景

- 任务准备就绪后
- 每次写作会话
- 需要 AI 辅助生成内容时

### 输出

生成 `stories/[story-name]/content/chapter-XX.md` 文件。

### 使用方式

```
/write

# 或指定章节
/write 第 5 章 - 初遇

# 或基于任务
/write [P0][依赖:1] 写第 1 章：序幕
```

### 写作时自动激活的 Skills

- **Genre Knowledge**: 根据故事类型应用惯例
- **Dialogue Techniques**: 对话场景优化
- **Scene Structure**: 场景节奏控制
- **Consistency Checker**: 后台一致性检查

### 最佳实践

- 每次写 1-2 章
- 参考 specification 和 plan
- 让 AI 先生成框架，再填充细节
- 保存多个版本对比选择

---

## `/analyze` - 质量验证分析

### 功能

全面验证作品质量和一致性。

### 两种模式

1. **框架分析**（写作前）
   - 验证规划的完整性
   - 检查逻辑性
   - 评估可行性

2. **内容分析**（写作后）
   - 验证执行质量
   - 检查一致性
   - 评估达标情况

### 使用场景

- 完成前 3 章后（早期验证）
- 每 5 章（定期检查）
- 完成草稿后（全面审查）

### 验证维度

```
/analyze
```

检查：
- ✅ 宪法合规性
- ✅ 规格满足度
- ✅ 内容一致性
- ✅ 质量标准
- ✅ 节奏和张力
- ✅ 角色弧线

### 最佳实践

- 及早运行，及早发现问题
- 不要等全部写完才分析
- 根据分析结果调整计划
- 记录改进点

---

## 追踪命令详解

## `/track-init` - 初始化追踪系统

### 功能

创建追踪系统所需的 JSON 文件。

### 使用场景

- 首次使用追踪功能
- 开始新故事时

### 输出

在 `spec/tracking/` 创建：
- `plot-tracker.json` - 情节追踪
- `timeline.json` - 时间线
- `character-state.json` - 角色状态
- `relationships.json` - 角色关系

### 示例

```
/track-init
```

### 最佳实践

- 在开始写作前运行
- 只需运行一次
- 可以手动编辑 JSON 文件

---

## `/track` - 综合追踪更新

### 功能

智能更新所有追踪数据。

### 使用场景

- 完成每一章后
- 重要事件发生后
- 定期整理时

### 过程

1. AI 读取最新章节
2. 提取关键信息
3. 更新所有追踪文件
4. 标记需要人工确认的项

### 示例

```
/track

# 或指定章节范围
/track 第 3-5 章
```

### 最佳实践

- 养成每章后立即运行的习惯
- 检查 AI 的更新是否准确
- 手动补充 AI 遗漏的细节

---

## 快速参考

### 最小工作流

```
/constitution → /specify → /write
```

### 标准工作流

```
/constitution → /specify → /clarify → /plan → /tasks → /write → /analyze
```

### 完整工作流

```
/constitution → /specify → /clarify → /plan → /tasks → 
/track-init → /write → /track → /analyze
```

### 推荐节奏

```
第 1 天：/constitution + /specify (2-3h)
第 2 天：/clarify + /plan (2-3h)
第 3 天：/tasks + 开始 /write (2-3h)
第 4-10 天：/write (每天 1-2h)
第 11 天：/analyze + 计划下一批
```

---

## 命令组合技巧

### 快速迭代

```
1. /write 第 1-3 章
2. /analyze 早期验证
3. 根据反馈调整 /plan
4. 继续 /write
```

### 深度规划

```
1. /constitution（核心原则）
2. /specify（整体规格）
3. /clarify（消除歧义）
4. /plan（详细计划）
5. 多次 /clarify 直到完全清晰
6. 开始 /write
```

### 探索式创作

```
1. 简化的 /constitution
2. 轻量级 /specify
3. 直接 /write 探索性章节
4. 根据结果更新 /specify 和 /plan
5. 结构化 /write
```

---

**提示**：所有命令都在 Claude Code 中使用，不是在终端中！

想了解更多？查看 [Skills 指南](skills-guide.md) 了解自动激活的智能辅助系统。

